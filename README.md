🤖 مساعد كلية الهندسة بجامعة الملك سعود
مساعد ذكي تفاعلي للإجابة على الأسئلة المتعلقة بكلية الهندسة في جامعة الملك سعود. يستخدم التطبيق بنية RAG (Retrieval-Augmented Generation) المتقدمة لتقديم إجابات دقيقة وموثوقة، معتمداً على قاعدة معرفة تم بناؤها من الموقع الرسمي للكلية.

🔗 رابط مباشر لتجربة التطبيhttps://ksu-rag-app.streamlit.app/

<img width="752" alt="Chatbot Interface" src="https://github.com/user-attachments/assets/fff3bf28-a2f3-4fbc-9ca6-a3008c20a2f0" />

✨ أبرز الميزات
واجهة محادثة تفاعلية: واجهة مستخدم سهلة وبديهية مبنية باستخدام Streamlit.

استرجاع معلومات دقيق (RAG): يستخدم نموذج TheMohanad1/Fine-Tuned-E5 الذي تم ضبطه خصيصًا لتحويل النصوص إلى متجهات واسترجاع المعلومات الأكثر صلة من قاعدة بيانات FAISS.

إدراك سياق المحادثة: يقوم بإعادة صياغة سؤال المستخدم بناءً على سجل المحادثة لضمان دقة البحث في الأسئلة المتابعة.

إجابات مدعومة بالمصادر: يعرض النصوص الأصلية التي تم استخدامها لتوليد الإجابة لضمان الشفافية والموثوقية.

أداء عالي: يستخدم st.cache_resource لتحميل النماذج وقواعد البيانات مرة واحدة فقط، مما يضمن استجابة سريعة.

⚙️ آلية العمل (Architecture)
يعتمد النظام على بنية RAG التي تمر بمرحلتين رئيسيتين:

الفهرسة (Indexing - تتم مرة واحدة):

يتم تحميل البيانات من ملف crawled_chunks_final.xlsx.

يقوم نموذج التضمين (Embedding Model) بتحويل كل قطعة نصية إلى متجه رقمي (Vector).

يتم تخزين هذه المتجهات في فهرس FAISS للبحث السريع عن التشابه الدلالي.

الاستعلام (Querying - عند طرح سؤال):

يتم تحويل سؤال المستخدم إلى متجه باستخدام نفس النموذج.

يُستخدم فهرس FAISS للبحث عن أعلى K من المتجهات (النصوص) تشابهًا لسؤال المستخدم.

يتم إرسال السؤال الأصلي مع النصوص المسترجعة وسياق المحادثة إلى نموذج GPT-4o.

يقوم GPT-4o بتوليد إجابة باللغة العربية بناءً على المصادر المقدمة له فقط.

🛠️ التقنيات والنماذج المستخدمة
إطار عمل الواجهة: Streamlit

نماذج الذكاء الاصطناعي:

نموذج الاسترجاع (Retriever): TheMohanad1/Fine-Tuned-E5

نموذج التوليد (Generator): OpenAI gpt-4o

فهرسة المتجهات: FAISS (Facebook AI Similarity Search)

المكتبات الرئيسية: Sentence-Transformers, Pandas, OpenAI, NumPy

🧠 ضبط نموذج التضمين (Fine-Tuning)
لتحقيق أقصى دقة في فهم اللهجة السعودية والنصوص العربية، تم عمل Fine-tuning لنموذج التضمين (TheMohanad1/Fine-Tuned-E5) انطلاقًا من النموذج الأساسي e5-multilingual-large. تمت عملية التدريب كالتالي:

مجموعة البيانات: تم استخدام أكثر من 10,000 نص قضائي باللغة العربية.

منهجية التدريب: لكل نص، تم توليد سؤال افتراضي يحاكي استفسارات المستخدمين الحقيقيين بتحديات متنوعة (أسئلة بالعامية، بالفصحى، وبأخطاء إملائية).

دالة الخسارة (Loss Function): تم استخدام MultipleNegativesRankingLoss وهي دالة فعالة لمهام البحث الدلالي.

التقييم: حقق النموذج أداءً متميزًا على مقياس Recall@10، حيث تجاوزت دقته 95%، مما يضمن قدرة عالية على استرجاع المستندات الصحيحة حتى مع تنوع صيغ الأسئلة.

🚀 كيفية تشغيل المشروع محليًا
استنسخ المستودع:

git clone [https://github.com/Mohanad-Amin/ksu-streamlit-rag-project.git](https://github.com/Mohanad-Amin/ksu-streamlit-rag-project.git)
cd ksu-streamlit-rag-project

أنشئ وشغّل البيئة الافتراضية:

python3 -m venv venv
source venv/bin/activate
# For Windows: venv\Scripts\activate

ثبّت المكتبات المطلوبة:

pip install -r requirements.txt

أنشئ ملف الأسرار (.env):

أنشئ ملفًا جديدًا باسم .env في المجلد الرئيسي للمشروع.

أضف مفتاح OpenAI الخاص بك بداخله بالشكل التالي:

OPENAI_API_KEY="sk-..."

شغّل تطبيق Streamlit:

streamlit run streamlit_app.py

📂 هيكل المشروع
ksa-rag-project/
├── core/
│   ├── __init__.py         # يجعل المجلد حزمة بايثون
│   └── retriever.py        # يحتوي على منطق RAG والاتصال بـ OpenAI
├── data/
│   ├── crawled_chunks_final.xlsx  # قاعدة المعرفة النصية
│   └── ksa_engineering_embeddings.npy # المتجهات المحسوبة مسبقًا
├── .env                    # (محلي فقط) لتخزين مفتاح API
├── .gitignore              # لمنع رفع الملفات الحساسة
├── streamlit_app.py        # الكود الخاص بواجهة المستخدم
└── requirements.txt        # المكتبات اللازمة للمشروع
